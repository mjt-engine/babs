{"version":3,"file":"destroyMesh.js","sourceRoot":"","sources":["../../src/mesh/destroyMesh.ts"],"names":[],"mappings":"AAEA,MAAM,CAAC,MAAM,WAAW,GAAG,CACzB,KAAY,EACZ,IAAY,EACZ,UAIK,EAAE,EACP,EAAE;IACF,MAAM,EACJ,OAAO,GAAG,IAAI,EACd,gBAAgB,GAAG,KAAK,EACxB,eAAe,GAAG,KAAK,GACxB,GAAG,OAAO,CAAC;IACZ,MAAM,IAAI,GAAG,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IACvC,IAAI,CAAC,IAAI,EAAE,CAAC;QACV,OAAO;IACT,CAAC;IACD,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IAC9B,IAAI,gBAAgB,EAAE,CAAC;QACrB,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC/B,IAAI,CAAC,QAAQ,EAAE,CAAC;YACd,OAAO;QACT,CAAC;QACD,QAAQ,CAAC,IAAI,GAAG,YAAY,QAAQ,CAAC,IAAI,EAAE,CAAC;QAC5C,QAAQ,EAAE,OAAO,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC;QACzC,KAAK,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;IACjC,CAAC;IACD,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AACzB,CAAC,CAAC","sourcesContent":["import type { Scene } from \"@babylonjs/core/scene\";\n\nexport const destroyMesh = (\n  scene: Scene,\n  name: string,\n  options: Partial<{\n    recurse: boolean;\n    disposeMaterials: boolean;\n    disposeTextures: boolean;\n  }> = {}\n) => {\n  const {\n    recurse = true,\n    disposeMaterials = false,\n    disposeTextures = false,\n  } = options;\n  const mesh = scene.getMeshByName(name);\n  if (!mesh) {\n    return;\n  }\n  mesh.dispose(!recurse, false);\n  if (disposeMaterials) {\n    const material = mesh.material;\n    if (!material) {\n      return;\n    }\n    material.name = `DISPOSED-${material.name}`;\n    material?.dispose(true, disposeTextures);\n    scene.removeMaterial(material);\n  }\n  scene.removeMesh(mesh);\n};\n"]}