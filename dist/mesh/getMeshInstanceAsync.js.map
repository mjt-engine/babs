{"version":3,"file":"getMeshInstanceAsync.js","sourceRoot":"","sources":["../../src/mesh/getMeshInstanceAsync.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,OAAO,EAAE,MAAM,oBAAoB,CAAC;AAC7C,OAAO,EAAE,YAAY,EAAE,MAAM,gBAAgB,CAAC;AAE9C,MAAM,CAAC,MAAM,oBAAoB,GAAG,KAAK,EACvC,KAAY,EACZ,IAAY,EACZ,QAAgB,EAChB,QAA0B,EAC1B,EAAE;IACF,OAAO,YAAY,CAAC,KAAK,EAAE,IAAI,EAAE,KAAK,IAAI,EAAE;QAC1C,MAAM,QAAQ,GAAG,MAAM,YAAY,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;QAC/D,OAAO,CAAC,WAAW,CAAC,QAAQ,EAAE,GAAG,EAAE;YACjC,OAAO,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC;YACjD,OAAO,oDAAoD,CAAC;QAC9D,CAAC,CAAC,CAAC;QACH,OAAO,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC","sourcesContent":["import type { Mesh } from \"@babylonjs/core/Meshes/mesh\";\nimport type { Scene } from \"@babylonjs/core/scene\";\nimport { Asserts } from \"@mjt-engine/assert\";\nimport { getMeshAsync } from \"./getMeshAsync\";\n\nexport const getMeshInstanceAsync = async <T extends Mesh>(\n  scene: Scene,\n  name: string,\n  rootName: string,\n  producer: () => Promise<T>\n) => {\n  return getMeshAsync(scene, name, async () => {\n    const rootMesh = await getMeshAsync(scene, rootName, producer);\n    Asserts.assertValue(rootMesh, () => {\n      console.log({ scene, name, rootName, producer });\n      return \"Unable to create mesh instance. Missing root mesh.\";\n    });\n    return rootMesh.createInstance(name);\n  });\n};\n"]}