{"version":3,"file":"getModelInstance.js","sourceRoot":"","sources":["../../src/mesh/getModelInstance.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,WAAW,EAAE,MAAM,oBAAoB,CAAC;AACjD,OAAO,EAAE,OAAO,EAAE,MAAM,WAAW,CAAC;AAEpC,OAAO,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAE1C,MAAM,CAAC,MAAM,gBAAgB,GAAG,CAC9B,KAAY,EACZ,IAAY,EACZ,GAAW,EAEX,UAAuB,EAAE,EACzB,EAAE;IACF,OAAO,OAAO,CAAC,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE;QAC/B,oCAAoC;QACpC,qEAAqE;QACrE,0CAA0C;QAC1C,MAAM,OAAO,GAAG,KAAK,CAAC,aAAa,CAAC,GAAG,CAAS,CAAC;QACjD,IAAI,WAAW,CAAC,OAAO,CAAC,EAAE,CAAC;YACzB,OAAO,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC;YAClC,MAAM,IAAI,KAAK,CAAC,8BAA8B,GAAG,EAAE,CAAC,CAAC;QACvD,CAAC;QACD,MAAM,IAAI,GAAG,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QAC1C,UAAU,CAAC,KAAK,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;QACjC,OAAO,IAAI,CAAC;IACd,CAAC,CAAC,CAAC;AACL,CAAC,CAAC","sourcesContent":["import type { Mesh } from \"@babylonjs/core/Meshes/mesh\";\nimport type { Scene } from \"@babylonjs/core/scene\";\nimport { isUndefined } from \"@mjt-engine/object\";\nimport { getMesh } from \"./getMesh\";\nimport type { MeshOptions } from \"./updateMesh\";\nimport { updateMesh } from \"./updateMesh\";\n\nexport const getModelInstance = (\n  scene: Scene,\n  name: string,\n  src: string,\n\n  options: MeshOptions = {}\n) => {\n  return getMesh(scene, name, () => {\n    // const { radius = 0.5 } = options;\n    // const mesh = MeshBuilder.CreateTorusKnot(name, { radius }, scene);\n    // const mesh = loadVox(scene, src, name);\n    const srcMesh = scene.getMeshByName(src) as Mesh;\n    if (isUndefined(srcMesh)) {\n      console.log({ scene, name, src });\n      throw new Error(`No src mesh found for src: ${src}`);\n    }\n    const mesh = srcMesh.createInstance(name);\n    updateMesh(scene, mesh, options);\n    return mesh;\n  });\n};\n"]}